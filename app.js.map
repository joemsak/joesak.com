{"version":3,"sources":["app/dark-light-mode.js","app/home-greeting.js","app/js-enabled.js","app/main.js","app/mobile-menu.js","app/poetry.js","app/sticky-header.js"],"names":["init","LIGHT","DARK","DARK_MODE","LIGHT_MODE","LOCAL_STORAGE_KEY","htmlEl","document","querySelector","toggleDarkMode","classList","contains","disableDarkMode","enableDarkMode","remove","add","localStorage","setItem","prefersDarkMode","matchMedia","matches","getItem","getElementById","addEventListener","homeGreetingEl","innerText","getGreeting","randomNum","Math","floor","random","timeGreeting","dayGreeting","hour","Date","getHours","MONDAY","weekdays","weekday","getDay","NO_JS","selector","querySelectorAll","forEach","el","JSEnabled","HomeGreeting","DarkLightMode","StickyHeader","MobileMenu","Poetry","mobileMenuBtn","mobileMenu","toggle","poetryBtn","html","poetryModal","modalOverlay","e","fetch","then","resp","json","poem","innerHTML","title","author","lines","para","createElement","line","append","mainDistanceRatioIsPastLimit","mainDistanceFromTop","main","getBoundingClientRect","top","mainDistanceRatio","originalTopBarHeight","setFixedTopBar","img","height","IMG_DIM_SMALL","width","topBar","header","appendChild","ghostElement","setRelativeTopBar","IMG_DIM_LARGE","tracker","previousScroll","window","pageYOffset","isScrollingDown","setPreviousScroll","originalImgDistanceFromTop","offsetHeight","style","onscroll"],"mappings":"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","file":"public/app.js","sourcesContent":["export default {\n  init() {\n    const LIGHT = 'light'\n    const DARK = 'dark'\n\n    const DARK_MODE = `${DARK}-mode`\n    const LIGHT_MODE = `${LIGHT}-mode`\n\n    const LOCAL_STORAGE_KEY = 'prefersColorScheme'\n\n    const htmlEl = document.querySelector('html')\n\n    const toggleDarkMode = () => {\n      if (htmlEl.classList.contains(DARK_MODE)) {\n        disableDarkMode()\n      } else {\n        enableDarkMode()\n      }\n    }\n\n    const disableDarkMode = () => {\n      htmlEl.classList.remove(DARK_MODE)\n      htmlEl.classList.add(LIGHT_MODE)\n      localStorage.setItem(LOCAL_STORAGE_KEY, LIGHT)\n    }\n\n    const enableDarkMode = () => {\n      htmlEl.classList.add(DARK_MODE)\n      htmlEl.classList.remove(LIGHT_MODE)\n      localStorage.setItem(LOCAL_STORAGE_KEY, DARK)\n    }\n\n    const prefersDarkMode = () => {\n      if (matchMedia('(prefers-color-scheme: dark)').matches) {\n        return localStorage.getItem(LOCAL_STORAGE_KEY) != LIGHT\n      } else {\n        return localStorage.getItem(LOCAL_STORAGE_KEY) === DARK\n      }\n    }\n\n    document\n      .getElementById('dark-mode-toggle')\n      .addEventListener('click', toggleDarkMode)\n\n    if (prefersDarkMode()) {\n      htmlEl.classList.add(DARK_MODE)\n    } else {\n      htmlEl.classList.add(LIGHT_MODE)\n    }\n  }\n}\n","export default {\n  init() {\n    const homeGreetingEl = document.querySelector('#surprise')\n\n    if (homeGreetingEl)\n      homeGreetingEl.innerText = this.getGreeting()\n  },\n\n  getGreeting() {\n    const randomNum = Math.floor(Math.random() * 100) % 2\n\n    return randomNum === 0 ?\n      `${this.timeGreeting()}.` :\n      `${this.dayGreeting()}.`\n  },\n\n  timeGreeting() {\n    const hour = new Date().getHours()\n\n    if (hour > 4 && hour < 12) {\n      return \"Good morning\"\n    } else if (hour >= 12 && hour < 17) {\n      return \"Good afternoon\"\n    } else if (hour >= 17 && hour < 22) {\n      return \"Good evening\"\n    } else {\n      return \"I hope you're getting enough sleep\"\n    }\n  },\n\n  dayGreeting() {\n    const MONDAY = \"Monday\"\n\n    const weekdays = [\n      \"Sunday\",\n      MONDAY,\n      \"Tuesday\",\n      \"Wednesday\",\n      \"Thursday\",\n      \"Friday\",\n      \"Saturday\",\n    ]\n\n    const weekday = weekdays[new Date().getDay()]\n\n    return `${weekday === MONDAY ? 'Welcome back to' : 'Happy'} ${weekday}`\n  }\n}\n","export default {\n  init() {\n    const NO_JS = 'no-js'\n    const selector = `.${NO_JS}`\n\n    document.querySelectorAll(selector)\n      .forEach(el => el.classList.remove(NO_JS))\n  }\n}\n","import JSEnabled from './js-enabled'\nimport HomeGreeting from './home-greeting'\nimport DarkLightMode from './dark-light-mode'\nimport StickyHeader from './sticky-header'\nimport MobileMenu from './mobile-menu'\nimport Poetry from './poetry'\n\n(() => {\n  document.addEventListener('DOMContentLoaded', () => {\n    JSEnabled.init()\n    HomeGreeting.init()\n    DarkLightMode.init()\n    StickyHeader.init()\n    MobileMenu.init()\n    Poetry.init()\n  })\n})()\n","export default {\n  init() {\n    const mobileMenuBtn = document.querySelector('#mobile-menu-btn')\n    const mobileMenu = document.querySelector('#mobile-menu')\n\n    if (mobileMenu && mobileMenuBtn)\n      mobileMenuBtn.addEventListener('click', e => {\n        mobileMenuBtn.classList.toggle('open')\n        mobileMenu.classList.toggle('open')\n      })\n  }\n}\n","import \"regenerator-runtime/runtime.js\"\n\nexport default {\n  init: () => {\n    const poetryBtn = document.getElementById('read-poetry')\n\n    if (!poetryBtn)\n      return\n\n    const html = document.querySelector('html')\n    const poetryModal = document.getElementById('poetry-modal')\n    const modalOverlay = document.getElementById('modal-overlay')\n\n    modalOverlay.addEventListener('click', e => {\n      html.classList.remove('modal-open')\n      poetryModal.classList.remove('show')\n      modalOverlay.classList.remove('show')\n    })\n\n    poetryBtn.addEventListener('click', async e => {\n      const poem = await fetch('https://poetrydb.org/random').then(resp => {\n        return resp.json()\n      }).then(json => json[0])\n\n      poetryModal.querySelector('h1').innerHTML = poem.title\n      poetryModal.querySelector('h2').innerHTML = `by ${poem.author}`\n      poetryModal.querySelector('.body').innerHTML = ''\n\n      poem.lines.forEach(line => {\n        const para = document.createElement('p')\n        para.innerHTML = line\n        poetryModal.querySelector('.body').append(para)\n      })\n\n      html.classList.add('modal-open')\n      poetryModal.classList.add('show')\n      modalOverlay.classList.add('show')\n    })\n  }\n}\n","export default {\n  init() {\n    if (document.getElementById('home')) {\n      const header = document.querySelector('header')\n      const main = document.querySelector('main')\n\n      const topBar = document.querySelector('#top-bar')\n      const img = document.querySelector('img')\n\n      const tracker = {\n        previousScroll: window.pageYOffset,\n\n        isScrollingDown() {\n          return window.pageYOffset > this.previousScroll\n        },\n\n        setPreviousScroll() {\n          this.previousScroll = window.pageYOffset\n        },\n      }\n\n      const originalImgDistanceFromTop = img.getBoundingClientRect().top\n      const originalTopBarHeight = topBar.offsetHeight\n\n      const IMG_DIM_SMALL = 50\n      const IMG_DIM_LARGE = 200\n\n      const ghostElement = document.createElement('div')\n      ghostElement.style.height = `${originalTopBarHeight}px`\n\n      if (window.pageYOffset > 0 && mainDistanceRatioIsPastLimit())\n        setFixedTopBar()\n\n      window.onscroll = e => {\n        if (tracker.isScrollingDown() && mainDistanceRatioIsPastLimit()) {\n          setFixedTopBar()\n        } else {\n          tracker.setPreviousScroll()\n          setRelativeTopBar()\n        }\n      }\n\n      function mainDistanceRatioIsPastLimit() {\n        const mainDistanceFromTop = main.getBoundingClientRect().top\n        const mainDistanceRatio = mainDistanceFromTop / originalTopBarHeight\n        return mainDistanceRatio < 0.75\n      }\n\n      function setFixedTopBar() {\n        img.height = IMG_DIM_SMALL\n        img.width = IMG_DIM_SMALL\n        topBar.classList.add('fixedTop')\n        header.appendChild(ghostElement)\n      }\n\n      function setRelativeTopBar() {\n        img.height = IMG_DIM_LARGE\n        img.width = IMG_DIM_LARGE\n        topBar.classList.remove('fixedTop')\n        ghostElement.remove()\n      }\n    }\n  }\n}\n"]}