{"version":3,"sources":["app/main.js","node_modules/auto-reload-brunch/vendor/auto-reload.js"],"names":["document","addEventListener","indicateJSEnabled","initHomeGreeting","initDarkLightMode","initStickyHeader","initMobileMenu","NO_JS","selector","querySelectorAll","forEach","el","classList","remove","homeGreetingEl","querySelector","innerText","getGreeting","randomNum","Math","floor","random","timeGreeting","dayGreeting","hour","Date","getHours","MONDAY","weekdays","weekday","getDay","LIGHT","DARK","DARK_MODE","LIGHT_MODE","LOCAL_STORAGE_KEY","htmlEl","toggleDarkMode","contains","disableDarkMode","enableDarkMode","add","localStorage","setItem","prefersDarkMode","matchMedia","matches","getItem","getElementById","mainDistanceRatioIsPastLimit","mainDistanceFromTop","main","getBoundingClientRect","top","mainDistanceRatio","originalTopBarHeight","setFixedTopBar","img","height","IMG_DIM_SMALL","width","topBar","header","appendChild","ghostElement","setRelativeTopBar","IMG_DIM_LARGE","tracker","previousScroll","window","pageYOffset","isScrollingDown","setPreviousScroll","originalImgDistanceFromTop","offsetHeight","createElement","style","onscroll","mobileMenuBtn","mobileMenu","toggle","WebSocket","MozWebSocket","br","brunch","ar","disabled","_ar","cacheBuster","url","date","round","now","toString","replace","indexOf","browser","navigator","userAgent","toLowerCase","forceRepaint","reloaders","page","location","reload","stylesheet","slice","call","filter","link","val","getAttribute","href","setTimeout","body","javascript","scripts","textScripts","map","script","text","length","srcScripts","src","loaded","all","onLoad","eval","newScript","async","onload","head","port","host","server","hostname","connect","connection","onmessage","event","message","data","reloader","onerror","readyState","close","onclose"],"mappings":"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","file":"public/app.js","sourcesContent":["(() => {\n  document.addEventListener('DOMContentLoaded', () => {\n    indicateJSEnabled()\n    initHomeGreeting()\n    initDarkLightMode()\n    initStickyHeader()\n    initMobileMenu()\n  })\n\n  const indicateJSEnabled = () => {\n    const NO_JS = 'no-js'\n    const selector = `.${NO_JS}`\n\n    document.querySelectorAll(selector).forEach(el => el.classList.remove(NO_JS))\n  }\n\n  const initHomeGreeting = () => {\n    const homeGreetingEl = document.querySelector('#surprise')\n\n    if (homeGreetingEl)\n      homeGreetingEl.innerText = getGreeting()\n  }\n\n  const getGreeting = () => {\n    const randomNum = Math.floor(Math.random() * 100) % 2\n\n    return randomNum === 0 ?\n      `${timeGreeting()}.` :\n      `${dayGreeting()}.`\n  }\n\n  const timeGreeting = () => {\n    const hour = new Date().getHours()\n\n    if (hour > 4 && hour < 12) {\n      return \"Good morning\"\n    } else if (hour >= 12 && hour < 17) {\n      return \"Good afternoon\"\n    } else if (hour >= 17 && hour < 22) {\n      return \"Good evening\"\n    } else {\n      return \"I hope you're getting enough sleep\"\n    }\n  }\n\n  const dayGreeting = () => {\n    const MONDAY = \"Monday\"\n\n    const weekdays = [\n      \"Sunday\",\n      MONDAY,\n      \"Tuesday\",\n      \"Wednesday\",\n      \"Thursday\",\n      \"Friday\",\n      \"Saturday\",\n    ]\n\n    const weekday = weekdays[new Date().getDay()]\n\n    return `${weekday === MONDAY ? 'Welcome back to' : 'Happy'} ${weekday}`\n  }\n\n  const initDarkLightMode = () => {\n    const LIGHT = 'light'\n    const DARK = 'dark'\n\n    const DARK_MODE = `${DARK}-mode`\n    const LIGHT_MODE = `${LIGHT}-mode`\n\n    const LOCAL_STORAGE_KEY = 'prefersColorScheme'\n\n    const htmlEl = document.querySelector('html')\n\n    const toggleDarkMode = () => {\n      if (htmlEl.classList.contains(DARK_MODE)) {\n        disableDarkMode()\n      } else {\n        enableDarkMode()\n      }\n    }\n\n    const disableDarkMode = () => {\n      htmlEl.classList.remove(DARK_MODE)\n      htmlEl.classList.add(LIGHT_MODE)\n      localStorage.setItem(LOCAL_STORAGE_KEY, LIGHT)\n    }\n\n    const enableDarkMode = () => {\n      htmlEl.classList.add(DARK_MODE)\n      htmlEl.classList.remove(LIGHT_MODE)\n      localStorage.setItem(LOCAL_STORAGE_KEY, DARK)\n    }\n\n    const prefersDarkMode = () => {\n      if (matchMedia('(prefers-color-scheme: dark)').matches) {\n        return localStorage.getItem(LOCAL_STORAGE_KEY) != LIGHT\n      } else {\n        return localStorage.getItem(LOCAL_STORAGE_KEY) === DARK\n      }\n    }\n\n    document\n      .getElementById('dark-mode-toggle')\n      .addEventListener('click', toggleDarkMode)\n\n    if (prefersDarkMode()) {\n      htmlEl.classList.add(DARK_MODE)\n    } else {\n      htmlEl.classList.add(LIGHT_MODE)\n    }\n  }\n\n  const initStickyHeader = () => {\n    if (document.getElementById('home')) {\n      const header = document.querySelector('header')\n      const main = document.querySelector('main')\n\n      const topBar = document.querySelector('#top-bar')\n      const img = document.querySelector('img')\n\n      const tracker = {\n        previousScroll: window.pageYOffset,\n\n        isScrollingDown() {\n          return window.pageYOffset > this.previousScroll\n        },\n\n        setPreviousScroll() {\n          this.previousScroll = window.pageYOffset\n        },\n      }\n\n      const originalImgDistanceFromTop = img.getBoundingClientRect().top\n      const originalTopBarHeight = topBar.offsetHeight\n\n      const IMG_DIM_SMALL = 50\n      const IMG_DIM_LARGE = 200\n\n      const ghostElement = document.createElement('div')\n      ghostElement.style.height = `${originalTopBarHeight}px`\n\n      if (window.pageYOffset > 0 && mainDistanceRatioIsPastLimit())\n        setFixedTopBar()\n\n      window.onscroll = e => {\n        if (tracker.isScrollingDown() && mainDistanceRatioIsPastLimit()) {\n          setFixedTopBar()\n        } else {\n          tracker.setPreviousScroll()\n          setRelativeTopBar()\n        }\n      }\n\n      function mainDistanceRatioIsPastLimit() {\n        const mainDistanceFromTop = main.getBoundingClientRect().top\n        const mainDistanceRatio = mainDistanceFromTop / originalTopBarHeight\n        return mainDistanceRatio < 0.75\n      }\n\n      function setFixedTopBar() {\n        img.height = IMG_DIM_SMALL\n        img.width = IMG_DIM_SMALL\n        topBar.classList.add('fixedTop')\n        header.appendChild(ghostElement)\n      }\n\n      function setRelativeTopBar() {\n        img.height = IMG_DIM_LARGE\n        img.width = IMG_DIM_LARGE\n        topBar.classList.remove('fixedTop')\n        ghostElement.remove()\n      }\n    }\n  }\n\n  const initMobileMenu = () => {\n    const mobileMenuBtn = document.querySelector('#mobile-menu-btn')\n    const mobileMenu = document.querySelector('#mobile-menu')\n\n    if (mobileMenu && mobileMenuBtn)\n      mobileMenuBtn.addEventListener('click', e => {\n        mobileMenuBtn.classList.toggle('open')\n        mobileMenu.classList.toggle('open')\n      })\n  }\n})()\n","/* jshint ignore:start */\n(function() {\n  var WebSocket = window.WebSocket || window.MozWebSocket;\n  var br = window.brunch = (window.brunch || {});\n  var ar = br['auto-reload'] = (br['auto-reload'] || {});\n  if (!WebSocket || ar.disabled) return;\n  if (window._ar) return;\n  window._ar = true;\n\n  var cacheBuster = function(url){\n    var date = Math.round(Date.now() / 1000).toString();\n    url = url.replace(/(\\&|\\\\?)cacheBuster=\\d*/, '');\n    return url + (url.indexOf('?') >= 0 ? '&' : '?') +'cacheBuster=' + date;\n  };\n\n  var browser = navigator.userAgent.toLowerCase();\n  var forceRepaint = ar.forceRepaint || browser.indexOf('chrome') > -1;\n\n  var reloaders = {\n    page: function(){\n      window.location.reload(true);\n    },\n\n    stylesheet: function(){\n      [].slice\n        .call(document.querySelectorAll('link[rel=stylesheet]'))\n        .filter(function(link) {\n          var val = link.getAttribute('data-autoreload');\n          return link.href && val != 'false';\n        })\n        .forEach(function(link) {\n          link.href = cacheBuster(link.href);\n        });\n\n      // Hack to force page repaint after 25ms.\n      if (forceRepaint) setTimeout(function() { document.body.offsetHeight; }, 25);\n    },\n\n    javascript: function(){\n      var scripts = [].slice.call(document.querySelectorAll('script'));\n      var textScripts = scripts.map(function(script) { return script.text }).filter(function(text) { return text.length > 0 });\n      var srcScripts = scripts.filter(function(script) { return script.src });\n\n      var loaded = 0;\n      var all = srcScripts.length;\n      var onLoad = function() {\n        loaded = loaded + 1;\n        if (loaded === all) {\n          textScripts.forEach(function(script) { eval(script); });\n        }\n      }\n\n      srcScripts\n        .forEach(function(script) {\n          var src = script.src;\n          script.remove();\n          var newScript = document.createElement('script');\n          newScript.src = cacheBuster(src);\n          newScript.async = true;\n          newScript.onload = onLoad;\n          document.head.appendChild(newScript);\n        });\n    }\n  };\n  var port = ar.port || 9485;\n  var host = br.server || window.location.hostname || 'localhost';\n\n  var connect = function(){\n    var connection = new WebSocket('ws://' + host + ':' + port);\n    connection.onmessage = function(event){\n      if (ar.disabled) return;\n      var message = event.data;\n      var reloader = reloaders[message] || reloaders.page;\n      reloader();\n    };\n    connection.onerror = function(){\n      if (connection.readyState) connection.close();\n    };\n    connection.onclose = function(){\n      window.setTimeout(connect, 1000);\n    };\n  };\n  connect();\n})();\n/* jshint ignore:end */\n"]}